<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8">
<title>去广告规则订阅 - 10007 Auto</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{--bg:#fafcff;--card:rgba(255,255,255,0.94);--text:#111;--green:#22c55e;--blur:blur(28px);}
@media(prefers-color-scheme:dark){:root{--bg:#0b0e16;--card:rgba(18,22,38,0.96);--text:#eee;}}
body.dark{--bg:#0b0e16;--card:rgba(18,22,38,0.96);--text:#eee;}
body{background:var(--bg);color:var(--text);min-height:100dvh;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",system-ui,sans-serif;padding:20px 16px;line-height:1.8;font-size:15.5px;transition:all .6s ease;overflow-x:hidden;}
.container{max-width:960px;margin:0 auto;padding:0 12px;}
h1{text-align:center;font-size:clamp(32px,8vw,42px);font-weight:900;margin:10px 0 30px;background:linear-gradient(120deg,var(--green),#00ff80);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.swiper{width:100%;overflow:hidden;border-radius:clamp(20px,4vw,28px);box-shadow:0 20px 60px rgba(0,0,0,.2);margin-bottom:30px;height:fit-content;min-height:380px;transition:height .48s cubic-bezier(.32,.72,.3,1);position:relative;}
.slide{min-width:100%;padding:clamp(24px,6vw,40px) clamp(20px,4vw,32px);background:var(--card);backdrop-filter:var(--blur);-webkit-backdrop-filter:var(--blur);border:1px solid rgba(255,255,255,.3);height:fit-content;}
.swiper-wrapper{display:flex;transition:transform .55s cubic-bezier(.32,.72,.3,1);}
.rule-title{font-size:clamp(20px,5vw,26px);font-weight:800;text-align:center;margin-bottom:20px;color:var(--green);}
.link-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin:24px 0;}
@media(max-width:640px){.link-grid{grid-template-columns:1fr;gap:12px;}}
.link-item{background:rgba(255,255,255,.6);backdrop-filter:var(--blur);-webkit-backdrop-filter:var(--blur);border-radius:clamp(14px,3vw,18px);padding:clamp(14px,3vw,18px);display:flex;flex-direction:column;gap:8px;box-shadow:0 6px 18px rgba(0,0,0,.1);}
.link-name{font-weight:600;font-size:clamp(13px,3vw,14.5px);}
.copy-btn{padding:clamp(10px,2.5vw,12px) clamp(16px,3vw,20px);background:var(--green);color:#fff;border:none;border-radius:clamp(12px,3vw,14px);font-size:clamp(14px,3vw,15px);font-weight:600;cursor:pointer;transition:all .35s ease;box-shadow:0 6px 16px rgba(34,197,94,.4);min-height:44px;}
.copy-btn:hover{transform:translateY(-3px);background:#16a34a;}
.copy-btn:active{transform:translateY(-1px);}
.copy-btn.copied{background:#94a3b8;box-shadow:0 6px 16px rgba(148,163,184,.4);}
.info-card{background:var(--card);backdrop-filter:var(--blur);-webkit-backdrop-filter:var(--blur);border-radius:clamp(20px,5vw,28px);padding:clamp(24px,5vw,32px) clamp(20px,4vw,28px);box-shadow:0 20px 60px rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.3);margin-bottom:30px;}
.info-card h3{text-align:center;font-size:clamp(18px,4vw,20px);margin-bottom:20px;color:var(--green);}
blockquote{background:rgba(11,243,81,.08);border-left:5px solid var(--green);padding:clamp(16px,4vw,22px);border-radius:0 clamp(12px,3vw,16px) clamp(12px,3vw,16px) 0;margin:24px 0;font-size:clamp(14px,3vw,15px);line-height:1.9;}
.stats{text-align:center;margin:30px 0;font-size:16px;color:#666;}
.switch{position:fixed;top:20px;right:20px;width:clamp(50px,8vw,58px);height:clamp(30px,6vw,34px);background:rgba(0,0,0,.15);border-radius:34px;cursor:pointer;z-index:100;backdrop-filter:var(--blur);-webkit-backdrop-filter:var(--blur);}
.knob{position:absolute;top:4px;left:4px;width:clamp(22px,5vw,26px);height:clamp(22px,5vw,26px);background:#fff;border-radius:50%;transition:.45s cubic-bezier(.68,-.55,.27,1.55);box-shadow:0 3px 12px rgba(0,0,0,.25);}
.dark .knob{left:calc(100% - 26px - 4px);}
#toast{position:fixed;top:30px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,.96);backdrop-filter:blur(24px);color:#111;padding:clamp(12px,3vw,16px) clamp(24px,5vw,36px);border-radius:44px;font-size:clamp(14px,3vw,16px);font-weight:600;box-shadow:0 15px 40px rgba(0,0,0,.22);z-index:9999;opacity:0;pointer-events:none;transition:all .6s cubic-bezier(.16,1,.3,1);max-width:90vw;text-align:center;white-space:nowrap;}
#toast.show{opacity:1;top:clamp(60px,10vw,70px);}
.nav-dots{display:flex;justify-content:center;gap:12px;position:absolute;bottom:16px;left:50%;transform:translateX(-50%);z-index:10;}
.nav-dot{width:10px;height:10px;border-radius:50%;background:rgba(0,0,0,.2);cursor:pointer;transition:all .3s ease;}
.nav-dot.active{background:var(--green);transform:scale(1.2);}
.swipe-hint{text-align:center;color:var(--green);font-size:14px;margin-top:10px;opacity:0.7;animation:bounce 2s infinite;}
@keyframes bounce{0%,20%,50%,80%,100%{transform:translateX(0);} 40%{transform:translateX(5px);} 60%{transform:translateX(3px);}}
@media(min-width:1024px){.container{max-width:1200px;}.link-grid{grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:20px;}.swiper{margin-bottom:40px;}.slide{padding:clamp(24px,6vw,40px)clamp(20px,4vw,40px);}}
.branch-description{font-size: 14px;color: #666;text-align: center;margin-bottom: 20px;line-height: 1.5;padding: 0 20px;}
body.dark .branch-description{color:#aaa;}
</style>
</head>
<body id="body">

<div id="toast">已复制到剪贴板</div>

<div class="container">
  <h1>去广告规则订阅</h1>

  <div class="swiper">
    <div class="swiper-wrapper" id="wrapper">
      <div class="slide">
          <div class="rule-title">Master 分支（推荐）</div>
            <div class="branch-description">将网页定向到 127.0.0.1 ，比较稳定。</div>
            <div class="swipe-hint">向右滑动查看其他分支 →</div>
          <div class="link-grid" id="master-links"></div>
        </div>
      <div class="slide">
          <div class="rule-title">Feature 分支（AdGuard 重定向）</div>
             <div class="branch-description">将替换成adguard(94.140.14.33)的，规避反复请求引起的耗电问题。Adaway请在设置中选择重定向(Apply redirected hosts)。</div>
             <div class="swipe-hint">向右滑动查看其他分支 →</div>
          <div class="link-grid" id="feature-links"></div>
       </div>
     <div class="slide">
         <div class="rule-title">Feature1 分支（Cloudflare 重定向）</div>
           <div class="branch-description">将替换成cloudflare(1.1.1.1)的，规避反复请求引起的耗电问题。Adaway请在设置中选择重定向(Apply redirected hosts)。</div>
           <div class="swipe-hint">向右滑动查看其他分支 →</div>
         <div class="link-grid" id="feature1-links"></div>
      </div>
    <div class="slide">
         <div class="rule-title">PC 测试分支</div>
         <div class="branch-description">将127.0.0.1替换成adguard的94.140.14.33，规避反复请求引起的耗电问题。推荐使用SwitchHosts进行管理。</div>
         <div class="link-grid" id="pc-links"></div>
      </div>
   </div>
       <div class="nav-dots" id="nav-dots"></div>
  </div>

  <div class="info-card">
    <h3>引用和致谢</h3>
    <blockquote>
      <ul style="columns:2;gap:20px;margin:10px 0;">
        <li><a href="https://github.com/jdlingyu/ad-wars" target="_blank">大圣净化</a></li>
        <li><a href="https://github.com/VeleSila/yhosts" target="_blank">yhosts</a></li>
        <li><a href="https://github.com/StevenBlack/hosts" target="_blank">StevenBlack</a></li>
        <li><a href="https://oisd.nl/howto" target="_blank">oisd</a></li>
        <li><a href="https://github.com/neodevpro/neodevhost" target="_blank">neodevhost</a></li>
        <li><a href="https://github.com/Goooler/1024_hosts" target="_blank">1024_hosts</a></li>
        <li><a href="https://github.com/E7KMbb/AD-hosts" target="_blank">adhost</a></li>
        <li><a href="https://hblock.molinero.dev/hosts" target="_blank">hblock</a></li>
        <li><a href="https://o0.pages.dev/Lite/hosts.txt" target="_blank">1Hosts(Lite)</a></li>
      </ul>
    </blockquote>
  </div>

  <div class="info-card">
    <h3>Github主页</h3>
    <blockquote style="text-align:center;">
      <a href="https://github.com/lingeringsound/10007_auto" target="_blank">前往 GitHub 主页</a>
    </blockquote>
  </div>
</div>

<div class="switch"><div class="knob" id="knob"></div></div>

<script>
const config = {
  master: [
    {
      name: "完整版",
      io: "https://lingeringsound.github.io/10007_auto/all",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/master/all",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/master/all" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/master/all" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@master/all" }
      ]
    },
    {
      name: "保留广告奖励",
      io: "https://lingeringsound.github.io/10007_auto/reward",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/master/reward",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/master/reward" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/master/reward" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@master/reward" }
      ]
    },
    {
      name: "Adguard规则",
      io: "https://lingeringsound.github.io/10007_auto/adb.txt",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/master/adb.txt",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/master/adb.txt" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/master/adb.txt" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@master/adb.txt" }
      ]
    },
    {
      name: "Adaway白名单",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/master/Adaway_white_list.prop",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/master/Adaway_white_list.prop" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/master/Adaway_white_list.prop" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@master/Adaway_white_list.prop" }
      ]
    },
    {
      name: "AdClose规则订阅",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/master/10007.rule",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/master/10007.rule" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/master/10007.rule" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@master/10007.rule" }
      ]
    }
  ],
  feature: [
    {
      name: "完整版",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature/all",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/Feature/all" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature/all" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@Feature/all" }
      ]
    },
    {
      name: "保留广告奖励",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature/reward",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/Feature/reward" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature/reward" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@Feature/reward" }
      ]
    }
  ],
  feature1: [
    {
      name: "完整版",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature1/all",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/Feature1/all" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature1/all" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@Feature1/all" }
      ]
    },
    {
      name: "保留广告奖励",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature1/reward",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/Feature1/reward" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/Feature1/reward" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@Feature1/reward" }
      ]
    }
  ],
  pc: [
    {
      name: "完整版（PC测试）",
      raw: "https://raw.githubusercontent.com/lingeringsound/10007_auto/PC_For_Test/all",
      accelerated: [
        { name: "GitMirror", url: "https://hub.gitmirror.com/raw.githubusercontent.com/lingeringsound/10007_auto/PC_For_Test/all" },
        { name: "GH-Proxy", url: "https://ghproxy.com/https://raw.githubusercontent.com/lingeringsound/10007_auto/PC_For_Test/all" },
        { name: "jsDelivr", url: "https://cdn.jsdelivr.net/gh/lingeringsound/10007_auto@PC_For_Test/all" }
      ]
    }
  ]
};

function gen(gridId, items) {
  const html = items.map(item => `
    <div class="link-item">
      <div class="link-name">${item.name}</div>
      ${item.io ? `<button class="copy-btn" data-url="${item.io}">复制 github.io 链接</button>` : ''}
      <button class="copy-btn" data-url="${item.raw}" style="${item.io ? 'margin-top:6px;' : ''}background:#5865f2;">复制 raw 链接</button>
      ${item.accelerated.map(acc => `
        <button class="copy-btn" data-url="${acc.url}" style="margin-top:6px;background:#f59e0b;">复制 ${acc.name} 链接</button>
      `).join('')}
    </div>
  `).join('');
  document.getElementById(gridId).innerHTML = html;
}

gen('master-links', config.master);
gen('feature-links', config.feature);
gen('feature1-links', config.feature1);
gen('pc-links', config.pc);

let currentSlide = 0;
const slides = document.querySelectorAll('.slide');
const wrapper = document.getElementById('wrapper');
const navDots = document.getElementById('nav-dots');

slides.forEach((_, index) => {
  const dot = document.createElement('div');
  dot.className = `nav-dot ${index === 0 ? 'active' : ''}`;
  dot.addEventListener('click', () => goToSlide(index));
  navDots.appendChild(dot);
});

function goToSlide(index) {
  currentSlide = index;
  wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
  document.querySelectorAll('.nav-dot').forEach((dot, i) => {
    dot.classList.toggle('active', i === currentSlide);
  });
  document.querySelector('.swiper').style.height = slides[index].offsetHeight + 'px';
}

let startX = 0;
let isDragging = false;

wrapper.addEventListener('mousedown', (e) => {
  startX = e.clientX;
  isDragging = true;
});

wrapper.addEventListener('touchstart', (e) => {
  startX = e.touches[0].clientX;
  isDragging = true;
});

wrapper.addEventListener('mouseup', (e) => {
  if (!isDragging) return;
  handleSwipe(e.clientX);
  isDragging = false;
});

wrapper.addEventListener('touchend', (e) => {
  if (!isDragging) return;
  handleSwipe(e.changedTouches[0].clientX);
  isDragging = false;
});

function handleSwipe(endX) {
  const diff = startX - endX;
  if (Math.abs(diff) > 50) {
    if (diff > 0 && currentSlide < slides.length - 1) {
      goToSlide(currentSlide + 1);
    } else if (diff < 0 && currentSlide > 0) {
      goToSlide(currentSlide - 1);
    }
  }
}

document.addEventListener('click', e => {
  if (e.target.classList.contains('copy-btn')) {
    const url = e.target.getAttribute('data-url');
    navigator.clipboard.writeText(url).then(() => {
      const t = document.getElementById('toast');
      t.classList.add('show');
      setTimeout(() => t.classList.remove('show'), 2800);
      e.target.classList.add('copied');
      setTimeout(() => e.target.classList.remove('copied'), 2000);
    }).catch(() => {
      alert('复制失败，请手动选择复制');
    });
  }
});

const body = document.body;
const knob = document.getElementById('knob');
let isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
if (isDark) body.classList.add('dark');

document.querySelector('.switch').onclick = () => {
  body.classList.toggle('dark');
  knob.style.left = body.classList.contains('dark') ? 'calc(100% - 26px - 4px)' : '4px';
};

window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
  if (e.matches !== body.classList.contains('dark')) {
    document.querySelector('.switch').click();
  }
});
</script>
</body>
</html>